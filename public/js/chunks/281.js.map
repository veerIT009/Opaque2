{"version":3,"file":"js/chunks/281.js","mappings":"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","sources":["webpack:///./resources/pos/src/member/components/book-history/BookHistory.scss?e688","webpack:///./resources/pos/src/member/components/book-history/BookHistoryTable.js","webpack:///./resources/pos/src/member/store/actions/bookHistoryAction.js","webpack:///./resources/pos/src/member/components/book-history/UnReserveBook.js","webpack:///./resources/pos/src/member/components/book-history/BookHistory.js","webpack:///./resources/pos/src/member/components/book-history/BookHistory.scss"],"sourcesContent":["import api from \"!../../../../../../node_modules/laravel-mix/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../node_modules/laravel-mix/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].oneOf[1].use[1]!../../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[7].oneOf[1].use[2]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[7].oneOf[1].use[3]!./BookHistory.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./BookHistory.scss\";\r\nimport { bookCirculationStatusConstant } from \"../../constants\";\r\nimport {\r\n    dateFormatter,\r\n    getFormattedMessage,\r\n    placeholderText,\r\n} from \"../../../shared/sharedMethod\";\r\nimport BookStatus from \"../../../shared/book-status/book-status\";\r\nimport ReactDataTable from \"../../../shared/table/ReactDataTable\";\r\nimport { icon } from \"../../../constants\";\r\n\r\nconst BookHistoryTable = (props) => {\r\n    const {\r\n        bookHistory,\r\n        onOpenModal,\r\n        onChangeFilter,\r\n        totalRecordMember,\r\n        isLoading,\r\n    } = props;\r\n\r\n    const columns = [\r\n        {\r\n            sortable: true,\r\n            wrap: true,\r\n            selector: (row) =>\r\n                row.book_item.book ? row.book_item.book.name : \"N/A\",\r\n            name: placeholderText(\"books.select.book.label\"),\r\n            cell: (row) =>\r\n                row.book_item.book ? row.book_item.book.name : \"N/A\",\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) => (row) =>\r\n                row.book_item.book_code ? row.book_item.book_code : \"N/A\",\r\n            width: \"150px\",\r\n            name: placeholderText(\"book-history.table.book-code.column\"),\r\n            cell: (row) => row.book_item.book_code,\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) => (row.issued_on ? row.issued_on : \"N/A\"),\r\n            name: placeholderText(\"book-history.table.issue-date.column\"),\r\n            width: \"160px\",\r\n            cell: (row) => (\r\n                <span>{row.issued_on ? renderDate(row.issued_on) : \"N/A\"}</span>\r\n            ),\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) =>\r\n                row.issue_due_date ? row.issue_due_date : \"N/A\",\r\n            name: placeholderText(\"book-history.table.issue-due-date.column\"),\r\n            width: \"180px\",\r\n            cell: (row) => (\r\n                <span>\r\n                    {row.issue_due_date\r\n                        ? renderDate(row.issue_due_date)\r\n                        : \"N/A\"}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) => (row.reserved_on ? row.reserved_on : \"N/A\"),\r\n            name: placeholderText(\"book-history.table.reserve-date.column\"),\r\n            width: \"180px\",\r\n            cell: (row) => (\r\n                <span>\r\n                    {row.reserve_date ? renderDate(row.reserve_date) : \"N/A\"}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) =>\r\n                row.return_due_date ? row.return_due_date : \"N/A\",\r\n            name: placeholderText(\"book-history.table.return-due-date.column\"),\r\n            width: \"180px\",\r\n            cell: (row) => (\r\n                <span>\r\n                    {row.return_due_date\r\n                        ? renderDate(row.return_due_date)\r\n                        : \"N/A\"}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) => (row.return_date ? row.return_date : \"N/A\"),\r\n            name: placeholderText(\"book-history.table.return-date.column\"),\r\n            width: \"150px\",\r\n            cell: (row) => (\r\n                <span>\r\n                    {row.return_date ? renderDate(row.return_date) : \"N/A\"}\r\n                </span>\r\n            ),\r\n        },\r\n        {\r\n            sortable: true,\r\n            selector: (row) => (row.status ? row.status : \"N/A\"),\r\n            name: placeholderText(\"react-data-table.status.column\"),\r\n            width: \"100px\",\r\n            cell: (row) => renderBookStatus(row),\r\n        },\r\n        {\r\n            name: placeholderText(\"react-data-table.action.column\"),\r\n            selector: (row) => (row.id ? row.id : \"N/A\"),\r\n            ignoreRowClick: true,\r\n            allowOverflow: true,\r\n            button: true,\r\n            center: true,\r\n            width: \"90px\",\r\n            cell: (row) => renderAction(row),\r\n        },\r\n    ];\r\n\r\n    const renderBookStatus = (bookHistory) => {\r\n        const statusProps = { status: bookHistory.status, item: bookHistory };\r\n        return <BookStatus {...statusProps} item={bookHistory} />;\r\n    };\r\n\r\n    const renderAction = (bookHistory) => {\r\n        if (\r\n            bookHistory.status === bookCirculationStatusConstant.BOOK_RESERVED\r\n        ) {\r\n            return (\r\n                <Button\r\n                    size=\"sm\"\r\n                    color=\"danger text-white\"\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onOpenModal(bookHistory);\r\n                    }}\r\n                >\r\n                    {placeholderText(\"book-history.input.unreserve-btn.label\")}\r\n                </Button>\r\n            );\r\n        }\r\n        return \"\";\r\n    };\r\n\r\n    const renderDate = (date) => {\r\n        return <span>{date ? dateFormatter(date) : \"\"}</span>;\r\n    };\r\n\r\n    return (\r\n        <ReactDataTable\r\n            items={bookHistory}\r\n            columns={columns}\r\n            emptyStateMessageId=\"books-history.empty-state.title\"\r\n            emptyNotFoundStateMessageId=\"books-history.not-found.empty-state.title\"\r\n            loading={isLoading}\r\n            totalRows={totalRecordMember}\r\n            onChange={onChangeFilter}\r\n            icon={icon.BOOK_CIRCULATION}\r\n        />\r\n    );\r\n};\r\n\r\nBookHistoryTable.propTypes = {\r\n    bookHistory: PropTypes.array,\r\n    totalRecordMember: PropTypes.number,\r\n    isLoading: PropTypes.bool,\r\n    onOpenModal: PropTypes.func,\r\n    onChangeFilter: PropTypes.func,\r\n};\r\n\r\nexport default BookHistoryTable;\r\n","import { bookHistoryActionType, toastType } from \"../../constants/index\";\r\nimport apiConfig from \"../../config/apiConfig\";\r\nimport { addToast } from \"../../../store/action/toastAction\";\r\nimport { setLoading } from \"../../../store/action/progressBarAction\";\r\nimport { toggleModal } from \"../../../store/action/modalAction\";\r\nimport { setTotalRecord } from \"./totalRecordAction\";\r\nimport requestParam from \"../../../shared/lms-requestParam\";\r\nimport { apiBaseURL } from \"../../../constants\";\r\nimport { getFormattedMessage } from \"../../../shared/sharedMethod\";\r\n\r\nexport const fetchBooksHistory = (filter) => async (dispatch) => {\r\n    dispatch(setLoading(true));\r\n    let url = apiBaseURL.BOOK_HISTORY;\r\n    if (filter.limit || filter.order_By || filter.search) {\r\n        url += requestParam(filter);\r\n    }\r\n    await apiConfig\r\n        .get(url)\r\n        .then((response) => {\r\n            if (response) {\r\n                dispatch({\r\n                    type: bookHistoryActionType.FETCH_MEMBER_BOOK_HISTORY,\r\n                    payload: response.data.data,\r\n                });\r\n                dispatch(setTotalRecord(response.data.totalRecords));\r\n            }\r\n            dispatch(setLoading(false));\r\n        })\r\n        .catch(({ response }) => {\r\n            if (response) {\r\n                dispatch(\r\n                    addToast({\r\n                        text: response.data.message,\r\n                        type: toastType.ERROR,\r\n                    })\r\n                );\r\n            }\r\n            dispatch(setLoading(false));\r\n        });\r\n};\r\n\r\nexport const unReserveBook = (bookItemId) => async (dispatch) => {\r\n    await apiConfig\r\n        .post(apiBaseURL.BOOK + \"/\" + bookItemId + \"/un-reserve-book\", {})\r\n        .then((response) => {\r\n            if (response) {\r\n                dispatch({\r\n                    type: bookHistoryActionType.BOOK_UN_RESERVED,\r\n                    payload: response.data.data,\r\n                });\r\n                dispatch(\r\n                    addToast({\r\n                        text: getFormattedMessage(\r\n                            \"books.success.unreserve.message\"\r\n                        ),\r\n                    })\r\n                );\r\n                dispatch(toggleModal());\r\n            }\r\n        })\r\n        .catch(({ response }) => {\r\n            if (response) {\r\n                dispatch(toggleModal());\r\n                addToast({\r\n                    text: response.data.message,\r\n                    type: toastType.ERROR,\r\n                });\r\n            }\r\n        });\r\n};\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../../../shared/components/Modal';\r\nimport ConfirmAction from '../../../shared/action-buttons/ConfirmAction';\r\nimport {getFormattedMessage} from \"../../../shared/sharedMethod\";\r\nimport {unReserveBook} from \"../../store/actions/bookHistoryAction\";\r\n\r\nconst UnReserveBook = (props) => {\r\n    const { bookHistory, unReserveBook, toggleModal } = props;\r\n    const name = bookHistory ? bookHistory.book_item.book.name : '';\r\n    const code = bookHistory ? bookHistory.book_item.book_code : '';\r\n    const content = <> {getFormattedMessage('book-history.modal.message')} \"{`${name} (${code})`}\"</>;\r\n    const title = getFormattedMessage('book-history.modal.title');\r\n\r\n    const onUnReserveBook = () => {\r\n        unReserveBook(bookHistory.book_item.id);\r\n    };\r\n\r\n    return <Modal {...props} actions={<ConfirmAction onConfirm={onUnReserveBook} onCancel={toggleModal}/>}\r\n                  content={content} title={title}/>;\r\n\r\n};\r\n\r\nUnReserveBook.propTypes = {\r\n    bookHistory: PropTypes.object,\r\n    unReserveBook: PropTypes.func,\r\n    toggleModal: PropTypes.func\r\n};\r\n\r\nexport default connect(null, { unReserveBook })(UnReserveBook);\r\n","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Card, CardBody, Col, Row} from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport BookHistoryTable from \"./BookHistoryTable\";\r\nimport UnReserveBook from \"./UnReserveBook\";\r\nimport ProgressBar from \"../../../shared/progress-bar/ProgressBar\";\r\nimport HeaderTitle from \"../../../shared/header-title/HeaderTitle\";\r\nimport {getFormattedMessage} from \"../../../shared/sharedMethod\";\r\nimport {toggleModal} from '../../../store/action/modalAction';\r\nimport {fetchBooksHistory} from '../../store/actions/bookHistoryAction';\r\n\r\nconst BookHistory = props => {\r\n    const [history, setHistory] = useState(null);\r\n    const { bookHistory, fetchBooksHistory, isLoading, toggleModal, totalRecordMember } = props;\r\n\r\n    const cardModalProps = {\r\n        bookHistory: history,\r\n        toggleModal,\r\n    };\r\n\r\n    const onChangeFilter = (filter) => {\r\n        fetchBooksHistory(filter);\r\n    };\r\n\r\n    const onOpenModal = (bookItem = null) => {\r\n        setHistory(bookItem);\r\n        toggleModal();\r\n    };\r\n\r\n    const cardBodyProps = {\r\n        bookHistory,\r\n        onOpenModal,\r\n        onChangeFilter,\r\n        totalRecordMember,\r\n        isLoading\r\n    };\r\n\r\n    return (\r\n        <Row className=\"animated fadeIn\">\r\n            <Col sm={12} className=\"mb-2\">\r\n                <ProgressBar/>\r\n                <HeaderTitle title=\"Book History\"/>\r\n                <h5 className=\"page-heading\">{getFormattedMessage('book-history.title')}</h5>\r\n            </Col>\r\n            <Col sm={12}>\r\n                <div className=\"sticky-table-container\">\r\n                    <Card>\r\n                        <CardBody>\r\n                            <BookHistoryTable {...cardBodyProps}/>\r\n                            <UnReserveBook {...cardModalProps}/>\r\n                        </CardBody>\r\n                    </Card>\r\n                </div>\r\n            </Col>\r\n        </Row>\r\n    )\r\n};\r\n\r\nBookHistory.propTypes = {\r\n    history: PropTypes.object,\r\n    bookHistory: PropTypes.array,\r\n    totalRecordMember: PropTypes.number,\r\n    isLoading: PropTypes.bool,\r\n    fetchBooksHistory: PropTypes.func,\r\n    toggleModal: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { bookHistory, isLoading, totalRecordMember } = state;\r\n    return {\r\n        bookHistory,\r\n        isLoading,\r\n        totalRecordMember\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchBooksHistory, toggleModal })(BookHistory);\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".book-name{max-width:650px}.book-action{width:90px}.book-return-date{width:100px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/pos/src/member/components/book-history/BookHistory.scss\"],\"names\":[],\"mappings\":\"AACI,WACI,eAAR,CAGI,aACI,UADR,CAII,kBACI,WAFR\",\"sourcesContent\":[\".book {\\r\\n    &-name {\\r\\n        max-width: 650px;\\r\\n    }\\r\\n\\r\\n    &-action {\\r\\n        width: 90px;\\r\\n    }\\r\\n\\r\\n    &-return-date {\\r\\n        width: 100px;\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","BookHistoryTable","props","bookHistory","onOpenModal","onChangeFilter","totalRecordMember","isLoading","columns","sortable","wrap","selector","row","book_item","book","name","placeholderText","cell","book_code","width","issued_on","renderDate","issue_due_date","reserved_on","reserve_date","return_due_date","return_date","status","renderBookStatus","id","ignoreRowClick","allowOverflow","button","center","renderAction","statusProps","item","bookCirculationStatusConstant","Button","size","color","onClick","e","stopPropagation","date","dateFormatter","ReactDataTable","items","emptyStateMessageId","emptyNotFoundStateMessageId","loading","totalRows","onChange","icon","propTypes","PropTypes","i","UnReserveBook","unReserveBook","toggleModal","code","content","getFormattedMessage","title","Modal","actions","ConfirmAction","onConfirm","onCancel","connect","bookItemId","dispatch","apiConfig","apiBaseURL","then","response","type","bookHistoryActionType","payload","data","addToast","text","message","toastType","BookHistory","useState","history","setHistory","fetchBooksHistory","cardModalProps","cardBodyProps","bookItem","filter","Row","className","Col","sm","ProgressBar","HeaderTitle","Card","CardBody","state","setLoading","url","limit","order_By","search","requestParam","setTotalRecord","totalRecords","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}